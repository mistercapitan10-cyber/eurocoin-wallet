
> web-wallet@0.1.0 dev
> next dev

   ▲ Next.js 16.0.0 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://192.168.10.38:3000
   - Environments: .env.local, .env
   - Experiments (use with caution):
     · serverActions

 ✓ Starting...
 ⚠ The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
 ✓ Ready in 668ms
Executed query {
  text: 'SELECT * FROM newsletter_subscribers WHERE email = $1',
  duration: 16,
  rows: 0
}
Executed query {
  text: 'INSERT INTO newsletter_subscribers (email, verification_code, code_expires_at) VALUES ($1, $2, $3)',
  duration: 6,
  rows: 1
}
Error sending email: Error: connect ETIMEDOUT 142.251.9.109:465
    at <unknown> (Error: connect ETIMEDOUT 142.251.9.109:465) {
  errno: -60,
  code: 'ESOCKET',
  syscall: 'connect',
  address: '142.251.9.109',
  port: 465,
  command: 'CONN'
}
 POST /api/newsletter/send-code 500 in 75s (compile: 338ms, render: 75s)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 3.2s (compile: 2.9s, proxy.ts: 62ms, render: 246ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 329ms (compile: 141ms, render: 188ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 415ms (compile: 166ms, render: 249ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 505ms (compile: 160ms, render: 345ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 738ms (compile: 336ms, render: 402ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 651ms (compile: 164ms, render: 487ms)
[AUTH] ✅ Database adapter enabled for email authentication
[AUTH] Adapter details: {
  hasUsersTable: true,
  hasAccountsTable: true,
  hasSessionsTable: true,
  hasVerificationTokensTable: true
}
[AUTH] Syncing AUTH_URL with sanitized NEXTAUTH_URL: http://localhost:3000
[AUTH] Setting AUTH_TRUST_HOST=true to trust incoming host headers
[AUTH] Configuration check: {
  hasNextAuthSecret: true,
  rawNextAuthUrl: 'http://localhost:3000',
  finalNextAuthUrl: 'http://localhost:3000',
  authUrl: 'http://localhost:3000',
  hasGoogleClientId: true,
  hasGoogleClientSecret: true,
  hasResendApiKey: true,
  senderEmail: 'noreply@resend.dev',
  hasDatabaseUrl: true,
  nodeEnv: 'development',
  hasAdapter: true
}
[AUTH] NEXTAUTH_URL validated: {
  protocol: 'http:',
  host: 'localhost:3000',
  origin: 'http://localhost:3000'
}
[AUTH] Email provider enabled in development mode
[AUTH] ✅ Google OAuth provider initialized: {
  hasClientId: true,
  hasClientSecret: true,
  clientIdPrefix: '1092579394193-kuubqf...',
  providerId: 'google',
  providerName: 'Google'
}
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 112ms (compile: 7ms, render: 105ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 216ms (compile: 6ms, render: 210ms)
[AUTH] ✅ Database adapter enabled for email authentication
[AUTH] Adapter details: {
  hasUsersTable: true,
  hasAccountsTable: true,
  hasSessionsTable: true,
  hasVerificationTokensTable: true
}
[AUTH] Configuration check: {
  hasNextAuthSecret: true,
  rawNextAuthUrl: 'http://localhost:3000',
  finalNextAuthUrl: 'http://localhost:3000',
  authUrl: 'http://localhost:3000',
  hasGoogleClientId: true,
  hasGoogleClientSecret: true,
  hasResendApiKey: true,
  senderEmail: 'noreply@resend.dev',
  hasDatabaseUrl: true,
  nodeEnv: 'development',
  hasAdapter: true
}
[AUTH] NEXTAUTH_URL validated: {
  protocol: 'http:',
  host: 'localhost:3000',
  origin: 'http://localhost:3000'
}
[AUTH] Email provider enabled in development mode
[AUTH] ✅ Google OAuth provider initialized: {
  hasClientId: true,
  hasClientSecret: true,
  clientIdPrefix: '1092579394193-kuubqf...',
  providerId: 'google',
  providerName: 'Google'
}
[AUTH ROUTE] GET request: {
  url: 'http://localhost:3000/api/auth/session',
  pathname: '/api/auth/session',
  searchParams: {}
}
[AUTH LOGGER][WARN] debug-enabled
[AUTH] Redirect callback called: {
  url: 'http://localhost:3000/login',
  baseUrl: 'http://localhost:3000',
  envNextAuthUrl: 'http://localhost:3000'
}
[AUTH] Redirect to same origin: http://localhost:3000/login
[AUTH ROUTE] GET response: { status: 200, statusText: '' }
 GET /api/auth/session 200 in 1660ms (compile: 1651ms, render: 9ms)
[AUTH ROUTE] GET request: {
  url: 'http://localhost:3000/api/auth/session',
  pathname: '/api/auth/session',
  searchParams: {}
}
[AUTH] Redirect callback called: {
  url: 'http://localhost:3000/login',
  baseUrl: 'http://localhost:3000',
  envNextAuthUrl: 'http://localhost:3000'
}
[AUTH] Redirect to same origin: http://localhost:3000/login
[AUTH ROUTE] GET response: { status: 200, statusText: '' }
 GET /api/auth/session 200 in 7ms (compile: 3ms, render: 4ms)
[AUTH] Redirect callback called: {
  url: 'http://localhost:3000/login',
  baseUrl: 'http://localhost:3000',
  envNextAuthUrl: 'http://localhost:3000'
}
[AUTH] Redirect to same origin: http://localhost:3000/login
[api:internal-balance] Failed to load balance snapshot: Error: Failed query: select "id", "name", "email", "emailVerified", "image", "auth_type", "wallet_address", "created_at", "updated_at" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899cd926a9028afe9056e76cc01f32ee859e7a65,1
    at async getUserByWalletAddress (lib/database/user-queries.ts:131:18)
    at async GET (app/api/internal-balance/route.ts:22:26)
  129 |   walletAddress: `0x${string}`,
  130 | ): Promise<UserSelect | null> {
> 131 |   const [user] = await db.select().from(users).where(eq(users.walletAddress, walletAddress)).limit(1);
      |                  ^
  132 |   return user ?? null;
  133 | }
  134 | {
  query: 'select "id", "name", "email", "emailVerified", "image", "auth_type", "wallet_address", "created_at", "updated_at" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async getUserByWalletAddress (lib/database/user-queries.ts:131:18)
      at async GET (app/api/internal-balance/route.ts:22:26)
    129 |   walletAddress: `0x${string}`,
    130 | ): Promise<UserSelect | null> {
  > 131 |   const [user] = await db.select().from(users).where(eq(users.walletAddress, walletAddress)).limit(1);
        |                  ^
    132 |   return user ?? null;
    133 | }
    134 | {
    length: 105,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '120',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
 GET /api/internal-balance?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 498ms (compile: 379ms, render: 119ms)
[AUTH] ✅ Database adapter enabled for email authentication
[AUTH] Adapter details: {
  hasUsersTable: true,
  hasAccountsTable: true,
  hasSessionsTable: true,
  hasVerificationTokensTable: true
}
[AUTH] Configuration check: {
  hasNextAuthSecret: true,
  rawNextAuthUrl: 'http://localhost:3000',
  finalNextAuthUrl: 'http://localhost:3000',
  authUrl: 'http://localhost:3000',
  hasGoogleClientId: true,
  hasGoogleClientSecret: true,
  hasResendApiKey: true,
  senderEmail: 'noreply@resend.dev',
  hasDatabaseUrl: true,
  nodeEnv: 'development',
  hasAdapter: true
}
[AUTH] NEXTAUTH_URL validated: {
  protocol: 'http:',
  host: 'localhost:3000',
  origin: 'http://localhost:3000'
}
[AUTH] Email provider enabled in development mode
[AUTH] ✅ Google OAuth provider initialized: {
  hasClientId: true,
  hasClientSecret: true,
  clientIdPrefix: '1092579394193-kuubqf...',
  providerId: 'google',
  providerName: 'Google'
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 14,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 14,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 113ms (compile: 96ms, render: 17ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 194ms (compile: 96ms, render: 97ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 289ms (compile: 103ms, render: 186ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 15,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 15,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 27ms (compile: 4ms, render: 23ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 209ms (compile: 168ms, proxy.ts: 8ms, render: 32ms)
[AUTH ROUTE] GET request: {
  url: 'http://localhost:3000/api/auth/session',
  pathname: '/api/auth/session',
  searchParams: {}
}
[AUTH] Redirect callback called: {
  url: 'http://localhost:3000/login',
  baseUrl: 'http://localhost:3000',
  envNextAuthUrl: 'http://localhost:3000'
}
[AUTH] Redirect to same origin: http://localhost:3000/login
[AUTH ROUTE] GET response: { status: 200, statusText: '' }
 GET /api/auth/session 200 in 7ms (compile: 4ms, render: 3ms)
[AUTH ROUTE] GET request: {
  url: 'http://localhost:3000/api/auth/session',
  pathname: '/api/auth/session',
  searchParams: {}
}
[AUTH] Redirect callback called: {
  url: 'http://localhost:3000/login',
  baseUrl: 'http://localhost:3000',
  envNextAuthUrl: 'http://localhost:3000'
}
[AUTH] Redirect to same origin: http://localhost:3000/login
[AUTH ROUTE] GET response: { status: 200, statusText: '' }
 GET /api/auth/session 200 in 5ms (compile: 1663µs, render: 3ms)
[AUTH] Redirect callback called: {
  url: 'http://localhost:3000/login',
  baseUrl: 'http://localhost:3000',
  envNextAuthUrl: 'http://localhost:3000'
}
[AUTH] Redirect to same origin: http://localhost:3000/login
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 105ms (compile: 16ms, render: 89ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 184ms (compile: 8ms, render: 176ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 265ms (compile: 10ms, render: 256ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 343ms (compile: 1962µs, render: 341ms)
[api:internal-balance] Failed to load balance snapshot: Error: Failed query: select "id", "name", "email", "emailVerified", "image", "auth_type", "wallet_address", "created_at", "updated_at" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899cd926a9028afe9056e76cc01f32ee859e7a65,1
    at async getUserByWalletAddress (lib/database/user-queries.ts:131:18)
    at async GET (app/api/internal-balance/route.ts:22:26)
  129 |   walletAddress: `0x${string}`,
  130 | ): Promise<UserSelect | null> {
> 131 |   const [user] = await db.select().from(users).where(eq(users.walletAddress, walletAddress)).limit(1);
      |                  ^
  132 |   return user ?? null;
  133 | }
  134 | {
  query: 'select "id", "name", "email", "emailVerified", "image", "auth_type", "wallet_address", "created_at", "updated_at" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async getUserByWalletAddress (lib/database/user-queries.ts:131:18)
      at async GET (app/api/internal-balance/route.ts:22:26)
    129 |   walletAddress: `0x${string}`,
    130 | ): Promise<UserSelect | null> {
  > 131 |   const [user] = await db.select().from(users).where(eq(users.walletAddress, walletAddress)).limit(1);
        |                  ^
    132 |   return user ?? null;
    133 | }
    134 | {
    length: 105,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '120',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
 GET /api/internal-balance?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 413ms (compile: 22ms, render: 391ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 491ms (compile: 23ms, render: 467ms)
[AUTH] ✅ Database adapter enabled for email authentication
[AUTH] Adapter details: {
  hasUsersTable: true,
  hasAccountsTable: true,
  hasSessionsTable: true,
  hasVerificationTokensTable: true
}
[AUTH] Configuration check: {
  hasNextAuthSecret: true,
  rawNextAuthUrl: 'http://localhost:3000',
  finalNextAuthUrl: 'http://localhost:3000',
  authUrl: 'http://localhost:3000',
  hasGoogleClientId: true,
  hasGoogleClientSecret: true,
  hasResendApiKey: true,
  senderEmail: 'noreply@resend.dev',
  hasDatabaseUrl: true,
  nodeEnv: 'development',
  hasAdapter: true
}
[AUTH] NEXTAUTH_URL validated: {
  protocol: 'http:',
  host: 'localhost:3000',
  origin: 'http://localhost:3000'
}
[AUTH] Email provider enabled in development mode
[AUTH] ✅ Google OAuth provider initialized: {
  hasClientId: true,
  hasClientSecret: true,
  clientIdPrefix: '1092579394193-kuubqf...',
  providerId: 'google',
  providerName: 'Google'
}
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 109ms (compile: 5ms, render: 104ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 185ms (compile: 6ms, render: 179ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 248ms (compile: 5ms, render: 244ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 332ms (compile: 4ms, render: 328ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 325,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 326,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 331ms (compile: 3ms, render: 327ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 5,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 6,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 30ms (compile: 9ms, render: 21ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 148ms (compile: 18ms, render: 130ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 208ms (compile: 29ms, render: 179ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 40,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 44,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 61ms (compile: 7ms, render: 54ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 1,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 12ms (compile: 3ms, render: 9ms)
[Middleware] {
  pathname: '/specialist.png',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 135ms (compile: 17ms, render: 118ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 201ms (compile: 28ms, render: 172ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 28,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 30,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 45ms (compile: 7ms, render: 39ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 139ms (compile: 18ms, render: 121ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 225ms (compile: 31ms, render: 194ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 11,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 14ms (compile: 1089µs, render: 13ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 18ms (compile: 3ms, render: 14ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 156ms (compile: 22ms, render: 135ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 250ms (compile: 37ms, render: 214ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 12,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 14,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 25ms (compile: 3ms, render: 22ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 17ms (compile: 4ms, render: 13ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 115ms (compile: 16ms, render: 99ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 186ms (compile: 27ms, render: 159ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 7,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 9,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 18ms (compile: 2ms, render: 15ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 138ms (compile: 16ms, render: 122ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 202ms (compile: 28ms, render: 174ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 8,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 9,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 12ms (compile: 1076µs, render: 11ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 12ms (compile: 4ms, render: 8ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 122ms (compile: 15ms, render: 107ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 195ms (compile: 31ms, render: 164ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 157ms (compile: 142ms, proxy.ts: 1935µs, render: 13ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 9,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 19ms (compile: 4ms, render: 15ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 165ms (compile: 154ms, proxy.ts: 4ms, render: 7ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 161ms (compile: 148ms, proxy.ts: 4ms, render: 8ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 166ms (compile: 148ms, proxy.ts: 9ms, render: 9ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 156ms (compile: 145ms, proxy.ts: 4ms, render: 7ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 156,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 157,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 164ms (compile: 4ms, render: 161ms)
 GET / 200 in 177ms (compile: 149ms, proxy.ts: 11ms, render: 17ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 104ms (compile: 11ms, render: 93ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 174ms (compile: 25ms, render: 149ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 146ms (compile: 138ms, proxy.ts: 1809µs, render: 6ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 179ms (compile: 167ms, proxy.ts: 5ms, render: 7ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 165ms (compile: 150ms, proxy.ts: 6ms, render: 9ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 52,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 52,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 60ms (compile: 1401µs, render: 58ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 182ms (compile: 164ms, proxy.ts: 4ms, render: 14ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 165ms (compile: 152ms, proxy.ts: 4ms, render: 8ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 170ms (compile: 159ms, proxy.ts: 4ms, render: 7ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 83ms (compile: 5ms, render: 78ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 153ms (compile: 9ms, render: 144ms)
 GET / 200 in 323ms (compile: 157ms, proxy.ts: 4ms, render: 162ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 146,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 147,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 154ms (compile: 6ms, render: 148ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 180ms (compile: 169ms, proxy.ts: 5ms, render: 6ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 166ms (compile: 155ms, proxy.ts: 5ms, render: 6ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 159ms (compile: 149ms, proxy.ts: 4ms, render: 6ms)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 174ms (compile: 163ms, proxy.ts: 5ms, render: 5ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 6ms (compile: 1220µs, render: 5ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 130ms (compile: 22ms, render: 108ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 215ms (compile: 31ms, render: 184ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 22,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 25,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 35ms (compile: 5ms, render: 30ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 5,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 30ms (compile: 16ms, render: 14ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 122ms (compile: 20ms, render: 102ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 191ms (compile: 33ms, render: 158ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 12,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 14,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 23ms (compile: 3ms, render: 20ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 143ms (compile: 22ms, render: 121ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 240ms (compile: 28ms, render: 212ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 108,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 109,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 222ms (compile: 110ms, render: 111ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 7,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 38ms (compile: 22ms, render: 16ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 128ms (compile: 36ms, render: 92ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 208ms (compile: 42ms, render: 166ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 14,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 13,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 29ms (compile: 6ms, render: 23ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 17ms (compile: 4ms, render: 13ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 153ms (compile: 47ms, render: 106ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 71ms (compile: 4ms, render: 67ms)
Executed query {
  text: 'SELECT * FROM newsletter_subscribers WHERE email = $1',
  duration: 9,
  rows: 0
}
Executed query {
  text: 'INSERT INTO newsletter_subscribers (email, verification_code, code_expires_at) VALUES ($1, $2, $3)',
  duration: 4,
  rows: 1
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 12,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 12,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 23ms (compile: 3ms, render: 20ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 142ms (compile: 17ms, render: 125ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 8,
  rows: 0
}
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 101ms (compile: 9ms, render: 92ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 99,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 104ms (compile: 2ms, render: 101ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 15ms (compile: 5ms, render: 10ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 115ms (compile: 19ms, render: 96ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 74ms (compile: 6ms, render: 68ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 15,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 17,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 32ms (compile: 5ms, render: 27ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 7,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 22ms (compile: 4ms, render: 17ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 98ms (compile: 11ms, render: 88ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 69ms (compile: 4ms, render: 66ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 15,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 18,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 29ms (compile: 4ms, render: 26ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 107ms (compile: 16ms, render: 91ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 98ms (compile: 6ms, render: 91ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 104,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 192ms (compile: 86ms, render: 106ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 21ms (compile: 4ms, render: 16ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 110ms (compile: 15ms, render: 95ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 192ms (compile: 29ms, render: 163ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 11,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 20ms (compile: 2ms, render: 18ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 12ms (compile: 3ms, render: 9ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 129ms (compile: 17ms, render: 111ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 209ms (compile: 115ms, render: 94ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 13,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 11,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 22ms (compile: 3ms, render: 20ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 142ms (compile: 19ms, render: 123ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 212ms (compile: 29ms, render: 183ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 180,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 180,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 220ms (compile: 38ms, render: 183ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 5,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 17ms (compile: 6ms, render: 11ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 155ms (compile: 24ms, render: 130ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 234ms (compile: 44ms, render: 190ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 17,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 22,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 37ms (compile: 6ms, render: 31ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 13ms (compile: 4ms, render: 9ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 125ms (compile: 16ms, render: 109ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 103ms (compile: 8ms, render: 95ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 20,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 22,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 31ms (compile: 5ms, render: 27ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 104ms (compile: 13ms, render: 91ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 174ms (compile: 21ms, render: 153ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 11,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 22ms (compile: 5ms, render: 18ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 6ms (compile: 1215µs, render: 5ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 130ms (compile: 15ms, render: 115ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 209ms (compile: 24ms, render: 185ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 17ms (compile: 3ms, render: 15ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 117ms (compile: 15ms, render: 102ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 204ms (compile: 26ms, render: 178ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 8,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 8,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 16ms (compile: 3ms, render: 13ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 9ms (compile: 4ms, render: 6ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 107ms (compile: 14ms, render: 94ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 188ms (compile: 22ms, render: 167ms)
 POST /api/newsletter/send-code 200 in 66s (compile: 76ms, render: 66s)
[Middleware] {
  pathname: '/',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
 GET / 200 in 386ms (compile: 244ms, proxy.ts: 10ms, render: 133ms)
[AUTH ROUTE] GET request: {
  url: 'http://localhost:3000/api/auth/session',
  pathname: '/api/auth/session',
  searchParams: {}
}
[AUTH] Redirect callback called: {
  url: 'http://localhost:3000/login',
  baseUrl: 'http://localhost:3000',
  envNextAuthUrl: 'http://localhost:3000'
}
[AUTH] Redirect to same origin: http://localhost:3000/login
[AUTH ROUTE] GET response: { status: 200, statusText: '' }
 GET /api/auth/session 200 in 12ms (compile: 5ms, render: 7ms)
[AUTH ROUTE] GET request: {
  url: 'http://localhost:3000/api/auth/session',
  pathname: '/api/auth/session',
  searchParams: {}
}
[AUTH] Redirect callback called: {
  url: 'http://localhost:3000/login',
  baseUrl: 'http://localhost:3000',
  envNextAuthUrl: 'http://localhost:3000'
}
[AUTH] Redirect to same origin: http://localhost:3000/login
[AUTH ROUTE] GET response: { status: 200, statusText: '' }
 GET /api/auth/session 200 in 4ms (compile: 1160µs, render: 3ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 97ms (compile: 8ms, render: 89ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 176ms (compile: 1925µs, render: 174ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 264ms (compile: 9ms, render: 254ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 343ms (compile: 16ms, render: 328ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 411ms (compile: 17ms, render: 394ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 484ms (compile: 14ms, render: 470ms)
[AUTH] ✅ Database adapter enabled for email authentication
[AUTH] Adapter details: {
  hasUsersTable: true,
  hasAccountsTable: true,
  hasSessionsTable: true,
  hasVerificationTokensTable: true
}
[AUTH] Configuration check: {
  hasNextAuthSecret: true,
  rawNextAuthUrl: 'http://localhost:3000',
  finalNextAuthUrl: 'http://localhost:3000',
  authUrl: 'http://localhost:3000',
  hasGoogleClientId: true,
  hasGoogleClientSecret: true,
  hasResendApiKey: true,
  senderEmail: 'noreply@resend.dev',
  hasDatabaseUrl: true,
  nodeEnv: 'development',
  hasAdapter: true
}
[AUTH] NEXTAUTH_URL validated: {
  protocol: 'http:',
  host: 'localhost:3000',
  origin: 'http://localhost:3000'
}
[AUTH] Email provider enabled in development mode
[AUTH] ✅ Google OAuth provider initialized: {
  hasClientId: true,
  hasClientSecret: true,
  clientIdPrefix: '1092579394193-kuubqf...',
  providerId: 'google',
  providerName: 'Google'
}
[AUTH] Redirect callback called: {
  url: 'http://localhost:3000/login',
  baseUrl: 'http://localhost:3000',
  envNextAuthUrl: 'http://localhost:3000'
}
[AUTH] Redirect to same origin: http://localhost:3000/login
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 124ms (compile: 3ms, render: 121ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 115,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 116,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 124ms (compile: 6ms, render: 118ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 195ms (compile: 3ms, render: 192ms)
[api:internal-balance] Failed to load balance snapshot: Error: Failed query: select "id", "name", "email", "emailVerified", "image", "auth_type", "wallet_address", "created_at", "updated_at" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899cd926a9028afe9056e76cc01f32ee859e7a65,1
    at async getUserByWalletAddress (lib/database/user-queries.ts:131:18)
    at async GET (app/api/internal-balance/route.ts:22:26)
  129 |   walletAddress: `0x${string}`,
  130 | ): Promise<UserSelect | null> {
> 131 |   const [user] = await db.select().from(users).where(eq(users.walletAddress, walletAddress)).limit(1);
      |                  ^
  132 |   return user ?? null;
  133 | }
  134 | {
  query: 'select "id", "name", "email", "emailVerified", "image", "auth_type", "wallet_address", "created_at", "updated_at" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async getUserByWalletAddress (lib/database/user-queries.ts:131:18)
      at async GET (app/api/internal-balance/route.ts:22:26)
    129 |   walletAddress: `0x${string}`,
    130 | ): Promise<UserSelect | null> {
  > 131 |   const [user] = await db.select().from(users).where(eq(users.walletAddress, walletAddress)).limit(1);
        |                  ^
    132 |   return user ?? null;
    133 | }
    134 | {
    length: 105,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '120',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
 GET /api/internal-balance?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 281ms (compile: 9ms, render: 272ms)
[api:user:register-wallet] Failed to upsert wallet user: Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2
params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1
    at async upsertWalletUser (lib/database/user-queries.ts:32:30)
    at async POST (app/api/user/register-wallet/route.ts:77:20)
  30 |   const now = new Date();
  31 |
> 32 |   const [existingByWallet] = await db
     |                              ^
  33 |     .select({
  34 |       id: users.id,
  35 |       email: users.email, {
  query: 'select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2',
  params: [Array],
  [cause]: error: relation "users" does not exist
      at async upsertWalletUser (lib/database/user-queries.ts:32:30)
      at async POST (app/api/user/register-wallet/route.ts:77:20)
    30 |   const now = new Date();
    31 |
  > 32 |   const [existingByWallet] = await db
       |                              ^
    33 |     .select({
    34 |       id: users.id,
    35 |       email: users.email, {
    length: 104,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '35',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
[api:user:register-wallet] Error details: {
  message: 'Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1',
  stack: 'Error: Failed query: select "id", "email", "name" from "users" where "users"."wallet_address" = $1 limit $2\n' +
    'params: 0x899CD926A9028aFE9056e76Cc01f32EE859e7a65,1\n' +
    '    at NodePgPreparedQuery.queryWithCache (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:22779:23)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23026:28\n' +
    '    at async upsertWalletUser (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:217:32)\n' +
    '    at async POST (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/[root-of-the-server]__2afb29f6._.js:378:24)\n' +
    '    at async AppRouteRouteModule.do (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:37913)\n' +
    '    at async AppRouteRouteModule.handle (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:23:45132)\n' +
    '    at async responseGenerator (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23465:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:19:132654)\n' +
    '    at async handleResponse (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23527:32)\n' +
    '    at async handler (/Users/symonbaikov/eurocoin-website/.next/dev/server/chunks/node_modules_8ca67bbf._.js:23580:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1415:9)\n' +
    '    at async DevServer.renderPageComponent (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1467:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1517:32)\n' +
    '    at async DevServer.pipeImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:1023:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/next-server.js:394:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/base-server.js:914:17)\n' +
    '    at async /Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:373:20\n' +
    '    at async Span.traceAsyncFn (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/dev/next-dev-server.js:369:24)\n' +
    '    at async invokeRender (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:240:21)\n' +
    '    at async handleRequest (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/router-server.js:484:13)\n' +
    '    at async Server.requestListener (/Users/symonbaikov/eurocoin-website/node_modules/next/dist/server/lib/start-server.js:226:13)',
  walletAddress: '0x899CD926A9028aFE9056e76Cc01f32EE859e7a65',
  hasEmail: false,
  hasName: false
}
 POST /api/user/register-wallet 500 in 369ms (compile: 5ms, render: 364ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 18ms (compile: 5ms, render: 14ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 280ms (compile: 28ms, render: 253ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 350ms (compile: 43ms, render: 307ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 27,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 28,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 45ms (compile: 6ms, render: 39ms)
Error sending email: Error: connect ETIMEDOUT 142.251.9.108:587
    at <unknown> (Error: connect ETIMEDOUT 142.251.9.108:587) {
  errno: -60,
  code: 'ESOCKET',
  syscall: 'connect',
  address: '142.251.9.108',
  port: 587,
  command: 'CONN'
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 12ms (compile: 3ms, render: 9ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 157ms (compile: 32ms, render: 124ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 229ms (compile: 44ms, render: 185ms)
[Middleware] {
  pathname: '/specialist.png',
  isMetaMaskConnected: true,
  hasNextAuthSession: false,
  isAuthenticated: true,
  cookies: [
  'httpOnlyToken',
  'accessToken',
  'accessTokenVersion',
  '__clerk_db_jwt_aEzK9v_9',
  'worknow-language',
  '__clerk_db_jwt',
  '__client_uat_aEzK9v_9',
  '__client_uat',
  'metamask_connected',
  'i18next',
  'INTLAYER_LOCALE',
  'wagmi.store',
  'authjs.csrf-token',
  'authjs.callback-url',
  'wagmi.recentConnectorId',
  '__next_hmr_refresh_hash__'
]
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 15,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 14,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 33ms (compile: 9ms, render: 24ms)
Executed query {
  text: 'SELECT * FROM newsletter_subscribers WHERE email = $1',
  duration: 12,
  rows: 1
}
Executed query {
  text: 'UPDATE newsletter_subscribers SET verification_code = $1, code_expires_at = $2 WHERE email = $3',
  duration: 4,
  rows: 1
}
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 160ms (compile: 31ms, render: 129ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 232ms (compile: 43ms, render: 189ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 32,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 33,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 36ms (compile: 1106µs, render: 35ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 11ms (compile: 3ms, render: 8ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 114ms (compile: 15ms, render: 99ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 177ms (compile: 25ms, render: 152ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 9,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 9,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 17ms (compile: 2ms, render: 15ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 6,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 29ms (compile: 12ms, render: 17ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 133ms (compile: 25ms, render: 108ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 217ms (compile: 36ms, render: 181ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 18,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 16,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 28ms (compile: 5ms, render: 23ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 121ms (compile: 14ms, render: 107ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 184ms (compile: 24ms, render: 161ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 7,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 8,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 14ms (compile: 3ms, render: 12ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 1,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 13ms (compile: 4ms, render: 9ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 93ms (compile: 10ms, render: 82ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 155ms (compile: 16ms, render: 138ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 20ms (compile: 4ms, render: 16ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 107ms (compile: 9ms, render: 97ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 164ms (compile: 15ms, render: 149ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 157,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 157,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 174ms (compile: 16ms, render: 159ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 13ms (compile: 3ms, render: 10ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 102ms (compile: 13ms, render: 89ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 162ms (compile: 21ms, render: 141ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 15,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 18,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 27ms (compile: 5ms, render: 22ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 12ms (compile: 4ms, render: 8ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 106ms (compile: 13ms, render: 93ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 161ms (compile: 18ms, render: 143ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 7,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 9,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 16ms (compile: 3ms, render: 14ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 1,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 11ms (compile: 4ms, render: 7ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 103ms (compile: 10ms, render: 93ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 105ms (compile: 11ms, render: 93ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 15,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 17,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 26ms (compile: 3ms, render: 23ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 102ms (compile: 10ms, render: 92ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 89,
  rows: 0
}
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 181ms (compile: 9ms, render: 171ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 179,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 192ms (compile: 12ms, render: 181ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 0,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 6ms (compile: 2ms, render: 3ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 95ms (compile: 7ms, render: 88ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 160ms (compile: 15ms, render: 145ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 13,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 14,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 22ms (compile: 4ms, render: 18ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 63,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 64,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 85ms (compile: 8ms, render: 77ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 139ms (compile: 18ms, render: 122ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 220ms (compile: 26ms, render: 194ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 13,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 14,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 24ms (compile: 1845µs, render: 22ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 117ms (compile: 20ms, render: 98ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 183ms (compile: 32ms, render: 151ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 9,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 14ms (compile: 1368µs, render: 12ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 9ms (compile: 2ms, render: 7ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 121ms (compile: 14ms, render: 108ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 194ms (compile: 28ms, render: 167ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 15,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 15,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 25ms (compile: 4ms, render: 22ms)
Error sending email: Error: connect ETIMEDOUT 142.251.9.108:587
    at <unknown> (Error: connect ETIMEDOUT 142.251.9.108:587) {
  errno: -60,
  code: 'ESOCKET',
  syscall: 'connect',
  address: '142.251.9.108',
  port: 587,
  command: 'CONN'
}
 POST /api/newsletter/send-code 500 in 75s (compile: 4ms, render: 75s)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 6,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 26ms (compile: 12ms, render: 14ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 138ms (compile: 17ms, render: 121ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 101ms (compile: 9ms, render: 92ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 14,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 14,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 21ms (compile: 2ms, render: 19ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 116ms (compile: 16ms, render: 100ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 76ms (compile: 5ms, render: 72ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 20,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 26,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 100ms (compile: 70ms, render: 30ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 11ms (compile: 3ms, render: 9ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 116ms (compile: 20ms, render: 96ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 77ms (compile: 5ms, render: 72ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 13,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 17,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 27ms (compile: 3ms, render: 24ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 15ms (compile: 3ms, render: 12ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 127ms (compile: 20ms, render: 107ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 114ms (compile: 8ms, render: 107ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 12,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 11,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 21ms (compile: 3ms, render: 17ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 97ms (compile: 15ms, render: 83ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 102ms (compile: 6ms, render: 96ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 7,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 7,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 10ms (compile: 964µs, render: 9ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 9ms (compile: 2ms, render: 7ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 118ms (compile: 13ms, render: 105ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 78ms (compile: 6ms, render: 72ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 13,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 16,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 27ms (compile: 4ms, render: 23ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 1,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 8ms (compile: 2ms, render: 6ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 96ms (compile: 11ms, render: 85ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 78ms (compile: 6ms, render: 72ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 18,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 16,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 34ms (compile: 5ms, render: 29ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 124ms (compile: 18ms, render: 107ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 101ms (compile: 9ms, render: 91ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 9,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 13ms (compile: 841µs, render: 12ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 10ms (compile: 2ms, render: 8ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 122ms (compile: 18ms, render: 103ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 79ms (compile: 8ms, render: 72ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 13,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 13,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 23ms (compile: 2ms, render: 21ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 11ms (compile: 2ms, render: 9ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 94ms (compile: 12ms, render: 81ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 78ms (compile: 5ms, render: 73ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 9,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 18ms (compile: 2ms, render: 16ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 139ms (compile: 20ms, render: 120ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 235ms (compile: 27ms, render: 208ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 8,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 8,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 11ms (compile: 1053µs, render: 10ms)
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 4,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 6,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 15ms (compile: 3ms, render: 12ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 116ms (compile: 15ms, render: 101ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 111ms (compile: 12ms, render: 98ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 9,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 13,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 26ms (compile: 4ms, render: 22ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 2,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 3,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 14ms (compile: 4ms, render: 11ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 101ms (compile: 16ms, render: 85ms)
Database query error {
  text: 'SELECT COUNT(*) as count\n' +
    '     FROM support_messages sm\n' +
    '     JOIN chatbot_sessions cs ON sm.session_id = cs.id\n' +
    '     WHERE cs.user_wallet_address = $1\n' +
    "       AND sm.type = 'admin'\n" +
    '       AND sm.is_read = FALSE',
  error: error: relation "support_messages" does not exist
      at async query (lib/database/db.ts:40:17)
      at async getUnreadCount (lib/database/support-queries.ts:140:18)
      at async GET (app/api/support/get-unread-count/route.ts:32:25)
    38 |   const start = Date.now();
    39 |   try {
  > 40 |     const res = await poolInstance.query(text, params);
       |                 ^
    41 |     const duration = Date.now() - start;
    42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
    43 |     return res; {
    length: 115,
    severity: 'ERROR',
    code: '42P01',
    detail: undefined,
    hint: undefined,
    position: '36',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'parse_relation.c',
    line: '1384',
    routine: 'parserOpenTable'
  }
}
Error getting unread count: error: relation "support_messages" does not exist
    at async query (lib/database/db.ts:40:17)
    at async getUnreadCount (lib/database/support-queries.ts:140:18)
    at async GET (app/api/support/get-unread-count/route.ts:32:25)
  38 |   const start = Date.now();
  39 |   try {
> 40 |     const res = await poolInstance.query(text, params);
     |                 ^
  41 |     const duration = Date.now() - start;
  42 |     console.log("Executed query", { text, duration, rows: res.rowCount });
  43 |     return res; {
  length: 115,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '36',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1384',
  routine: 'parserOpenTable'
}
 GET /api/support/get-unread-count?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 500 in 84ms (compile: 5ms, render: 79ms)
Executed query {
  text: 'SELECT * FROM exchange_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 10,
  rows: 0
}
Executed query {
  text: 'SELECT * FROM internal_requests WHERE wallet_address = $1 ORDER BY created_at DESC',
  duration: 13,
  rows: 0
}
 GET /api/investigation/status?walletAddress=0x899CD926A9028aFE9056e76Cc01f32EE859e7a65 200 in 18ms (compile: 2ms, render: 16ms)
